{% extends 'website/layout.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="user-container">
  <div class="header">
      <input type="text" placeholder="Search name" class="search-bar">
      <div class="date-range">
          <label for="from">from</label>
          <input type="date" id="from" value="2023-04-04">
          <label for="to">to</label>
          <input type="date" id="to" value="2023-04-04">
      </div>
  </div>
  <table>
      <thead>
          <tr>
              <th>Email</th>
              <th>First Name</th>
              <th>Last name</th>
              <th>password</th>
              <th>Comfirm <br/>password</th>
              <th>Address</th>
              <th>Role</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
         
          <tr>
              <td>john@gmail.com</td>
              <td>John</td>
              <td>Bosco</td>
              <td>1234</td>
              <td>1234</td>
              <td>Nyarugenge</td>
              <td>executive</td>
              <td>
                  <button class="action-btn view"><i class="fas fa-eye"></i></button>
                  <button class="action-btn delete"><i class="fas fa-trash"></i></button>
              </td>
          </tr>
          
          <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>

        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>

        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>
        <tr>
            <td>john@gmail.com</td>
            <td>John</td>
            <td>Bosco</td>
            <td>1234</td>
            <td>1234</td>
            <td>Nyarugenge</td>
            <td>executive</td>
            <td>
                <button class="action-btn view"><i class="fas fa-eye"></i></button>
                <button class="action-btn delete"><i class="fas fa-trash"></i></button>
            </td>
        </tr>


      </tbody>
  </table>

</div>
  <div class="user-bottom">
      <span>Rows Per page 
        <select>
            <option>7</option>
          <option>14</option>
          <option>28</option>
          <option>42</option>
        </select>
      </span>
      <span>1-9 of 24</span>
      <span>
          <button>&lt;</button>
          <button>&gt;</button>
      </span>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
  const rowsPerPageOptions = document.querySelector(".user-bottom select");
  const tableBody = document.querySelector("table tbody");
  const rows = Array.from(tableBody?.querySelectorAll("tr") || []);
  const paginationInfo = document.querySelector(".user-bottom span:nth-child(2)");
  const prevButton = document.querySelector(".user-bottom button:first-of-type");
  const nextButton = document.querySelector(".user-bottom button:last-of-type");

  if (!rowsPerPageOptions || !tableBody || !paginationInfo || !prevButton || !nextButton) {
      console.error("Missing required DOM elements for pagination.");
      return;
  }

  let rowsPerPage = parseInt(rowsPerPageOptions.value);
  let currentPage = 1;
  const totalRows = rows.length;
  
  function updatePagination() {
    const totalPages = Math.ceil(totalRows / rowsPerPage);
    const startRow = (currentPage - 1) * rowsPerPage;
    const endRow = Math.min(startRow + rowsPerPage, totalRows);
  
    rows.forEach((row, index) => {
      row.style.display = index >= startRow && index < endRow ? "table-row" : "none";
    });
  
    paginationInfo.textContent = `${startRow + 1}-${endRow} of ${totalRows}`;
  
   
    prevButton.disabled = currentPage === 1;
    nextButton.disabled = currentPage === totalPages;
  }
  
  function changePage(increment) {
    currentPage += increment;
    updatePagination();
  }
  
  function changeRowsPerPage() {
    rowsPerPage = parseInt(rowsPerPageOptions.value);
    currentPage = 1; 
    updatePagination();
  }
  
 
  prevButton.addEventListener("click", () => changePage(-1));
  nextButton.addEventListener("click", () => changePage(1));
  rowsPerPageOptions.addEventListener("change", changeRowsPerPage);
  
  
  updatePagination();
  
  
});

  </script>
{% endblock %}
